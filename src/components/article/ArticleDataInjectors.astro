---
/**
 * Article Data Injectors
 * 
 * Serializes server-side data into DOM script tags for client-side hydration.
 * This pattern avoids "hydration mismatch" by passing complex data as JSON strings
 * rather than React props for large datasets (like thousands of echoes/definitions).
 */

interface Props {
    echoes?: Record<string, any>;
    wordDefinitions?: any[];
}

const { echoes = {}, wordDefinitions = [] } = Astro.props;
---

<!-- Echoes (Memory Spirits) Data -->
{Object.keys(echoes).length > 0 && (
    <script is:inline id="memories-data" type="application/json" set:html={JSON.stringify(echoes)} />
)}

<!-- Word Definitions Data (Dictionary) -->
{wordDefinitions.length > 0 && (
    <script is:inline id="definitions-data" type="application/json" set:html={JSON.stringify(wordDefinitions)} />
)}
