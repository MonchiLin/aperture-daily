---
/**
 * ArticleList - 文章列表
 * 
 * 纯 Astro 组件，SSR 渲染，零 JS
 * 使用 ArticleItem 子组件渲染每篇文章
 */
import ArticleItem from './ArticleItem.astro';

interface Article {
    id: string;
    title: string;
    read_levels?: number;
}

interface Props {
    articles: Article[];
}

const { articles } = Astro.props;
---

<div class="flex-1">
    {articles && articles.length > 0 ? (
        <div class="flex flex-col">
            {articles.map((article, idx) => (
                <ArticleItem 
                    id={article.id}
                    title={article.title}
                    index={idx}
                    isRead={(article.read_levels || 0) > 0}
                />
            ))}
        </div>
    ) : (
        <div class="py-12 flex flex-col items-center justify-center text-stone-400 gap-2">
            <span class="font-serif italic text-base text-stone-500">No content.</span>
        </div>
    )}
</div>
