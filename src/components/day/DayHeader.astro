---
/**
 * DayHeader - 日期页头部
 * 
 * 纯 Astro 组件，SSR 渲染，零 JS
 * 显示日期标题和操作按钮槽位
 */
interface Props {
    date: string;
    loading?: boolean;
}

const { date, loading = false } = Astro.props;

// 格式化日期显示
const dateObj = new Date(date + 'T00:00:00');
const dayNum = dateObj.getDate();
const monthYear = dateObj.toLocaleString('en-US', { month: 'long', year: 'numeric' });
---

<div class="border-b border-slate-900 mb-6 pb-2 flex items-baseline justify-between select-none font-serif">
    <h2 class="text-3xl font-bold tracking-tight text-slate-900 leading-none">
        {dayNum} <span class="text-xl font-normal italic text-stone-500 ml-1">{monthYear}</span>
        {loading && (
            <span class="ml-4 text-xs font-sans font-normal text-amber-600 animate-pulse uppercase tracking-widest">
                Updating...
            </span>
        )}
    </h2>
    <div class="flex items-center gap-4">
        <slot name="actions" />
    </div>
</div>
